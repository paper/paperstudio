var Gallery=(function(){var $=function(id){return document.getElementById(id);},animate=(function(){var f=function(obj){var elem=obj.elem,begin=obj.begin,end=obj.end,callback=obj.callback,callbackOver=obj.callbackOver,speed=obj.speed||20;(function(){if(begin==end){if(callbackOver)callbackOver.call(elem,begin);return;}var step;if(begin<end){step=Math.ceil((end-begin)/10);begin+=step;}else{step=Math.ceil((begin-end)/10);begin-=step;}callback.call(elem,begin);setTimeout(arguments.callee,speed);})();};return f;})(),next=$('gallery-next'),prev=$('gallery-prev'),content=$('gallery-content'),main=$('gallery-main'),step=860,num=3,max=step*(num-1),clickKey=true,autoPlayTime=null,autoPlayInterval=4000,toNext=function(){var curLeft=parseInt(content.style.marginLeft),nextLeft=curLeft==-max?0:curLeft-step;animate({"elem":content,"begin":curLeft,"end":nextLeft,"callback":function(l){clickKey=false;this.style.marginLeft=l+"px";},"callbackOver":function(){clickKey=true;}});},toPrev=function(){var curLeft=parseInt(content.style.marginLeft),nextLeft=curLeft==0?-max:curLeft+step;animate({"elem":content,"begin":curLeft,"end":nextLeft,"callback":function(l){clickKey=false;this.style.marginLeft=l+"px";},"callbackOver":function(){clickKey=true;}});},autoPlay=function(){autoPlayTime=setInterval(function(){toNext();},autoPlayInterval);};return function(){prev.onclick=function(){if(!clickKey)return;toPrev();};next.onclick=function(){if(!clickKey)return;toNext();};autoPlay();main.onmouseover=function(){clearInterval(autoPlayTime);};main.onmouseout=function(){autoPlay();};};})();Gallery();